dofile("script/include/inc_all.lua")
dofile("script/include/inc_event.lua")
function groundInit()
end
function groundStart()
end
function main11_palacebosswin01_init()
  if FLAG.NowResumeFlag == CONST.FLAG_TRUE then
    subEveFromProgFadeSet()
    subSaveflagM11_110_01()
  end
end
function main11_palacebosswin01_start()
  subEveFromProgFadeSet()
  TASK:Sleep(TimeSec(1))
  CAMERA:SetAzimuthDifferenceVolume(Volume(5))
  CAMERA:SetEye(SymCam("CAMERA_00"))
  CAMERA:SetTgt(SymCam("CAMERA_00"))
  SCREEN_A:FadeIn(TimeSec(0.5), false)
  local taskHeroLookAround = function()
    CH("HERO"):DirTo(RotateTarget(60), Speed(350), ROT_TYPE.NEAR)
    CH("HERO"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("HERO"):DirTo(RotateTarget(-50), Speed(350), ROT_TYPE.NEAR)
    CH("HERO"):WaitRotate()
    TASK:Sleep(TimeSec(0.4))
    CH("HERO"):DirTo(RotateTarget(35), Speed(350), ROT_TYPE.NEAR)
    CH("HERO"):WaitRotate()
  end
  local taskPartnerLookAround = function()
    CH("PARTNER"):DirTo(RotateTarget(-90), Speed(350), ROT_TYPE.NEAR)
    CH("PARTNER"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("PARTNER"):DirTo(RotateTarget(88), Speed(350), ROT_TYPE.NEAR)
    CH("PARTNER"):WaitRotate()
    TASK:Sleep(TimeSec(0.3))
    CH("PARTNER"):DirTo(RotateTarget(-40), Speed(350), ROT_TYPE.NEAR)
    CH("PARTNER"):WaitRotate()
  end
  local taskNokotchiLookAround = function()
    CH("NOKOTCHI"):DirTo(RotateTarget(120), Speed(350), ROT_TYPE.NEAR)
    CH("NOKOTCHI"):WaitRotate()
    TASK:Sleep(TimeSec(0.4))
    CH("NOKOTCHI"):DirTo(RotateTarget(0), Speed(350), ROT_TYPE.NEAR)
    CH("NOKOTCHI"):WaitRotate()
    TASK:Sleep(TimeSec(0.3))
    CH("NOKOTCHI"):DirTo(RotateTarget(-45), Speed(350), ROT_TYPE.NEAR)
    CH("NOKOTCHI"):WaitRotate()
  end
  local taskBurakkiiLookAround = function()
    CH("BURAKKII"):DirTo(RotateTarget(-135), Speed(350), ROT_TYPE.NEAR)
    CH("BURAKKII"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("BURAKKII"):DirTo(RotateTarget(30), Speed(350), ROT_TYPE.NEAR)
    CH("BURAKKII"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("BURAKKII"):DirTo(RotateTarget(-100), Speed(350), ROT_TYPE.NEAR)
    CH("BURAKKII"):WaitRotate()
  end
  local taskEefiLookAround = function()
    CH("EEFI"):DirTo(RotateTarget(-135), Speed(350), ROT_TYPE.NEAR)
    CH("EEFI"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("EEFI"):DirTo(RotateTarget(30), Speed(350), ROT_TYPE.NEAR)
    CH("EEFI"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("EEFI"):DirTo(RotateTarget(-100), Speed(350), ROT_TYPE.NEAR)
    CH("EEFI"):WaitRotate()
  end
  local taskBirijionLookAround = function()
    CH("BIRIJION"):DirTo(RotateTarget(-135), Speed(350), ROT_TYPE.NEAR)
    CH("BIRIJION"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("BIRIJION"):DirTo(RotateTarget(30), Speed(350), ROT_TYPE.NEAR)
    CH("BIRIJION"):WaitRotate()
    TASK:Sleep(TimeSec(0.2))
    CH("BIRIJION"):DirTo(RotateTarget(-30), Speed(350), ROT_TYPE.NEAR)
    CH("BIRIJION"):WaitRotate()
  end
  TASK:Regist(Group("grpHero"), taskHeroLookAround)
  TASK:Regist(Group("grpNoko"), taskNokotchiLookAround)
  TASK:Sleep(TimeSec(0.2))
  TASK:Regist(Group("grpBiri"), taskBirijionLookAround)
  TASK:Regist(Group("partner"), taskPartnerLookAround)
  TASK:Regist(Group("grpBura"), taskBurakkiiLookAround)
  TASK:Sleep(TimeSec(0.2))
  TASK:Regist(Group("grpEefi"), taskEefiLookAround)
  TASK:WaitTask(Group("grpEefi"))
  CH("BURAKKII"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  CH("HERO"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.2))
  CH("EEFI"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  CH("PARTNER"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("BIRIJION"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("NOKOTCHI"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  CH("NOKOTCHI"):WaitRotate()
  CAMERA:SetAzimuthDifferenceVolume(Volume(5))
  CAMERA:SetEye(SymCam("CAMERA_01"))
  CAMERA:SetTgt(SymCam("CAMERA_01"))
  TASK:Sleep(TimeSec(0.3))
  WINDOW:DrawFace(72, 16, SymAct("BURAKKII"), FACE_TYPE.NORMAL)
  WINDOW:Talk(SymAct("BURAKKII"), -1308848316)
  WINDOW:CloseMessage()
  EFFECT:Create("effectWindIce", SymEff("EV_WIND_ICE"))
  EFFECT:SetPosition("effectWindIce", SymPos("P01_EFF_EV_WIND_ICE_LP"))
  SOUND:PlaySe(SymSnd("SE_EVT_WIND_02"), Volume(256))
  EFFECT:Play("effectWindIce")
  TASK:Sleep(TimeSec(1))
  SOUND:PlaySe(SymSnd("SE_EVT_SIGN_NOTICE_LOW_02"), Volume(256))
  CH("BIRIJION"):SetManpu("MP_EXCLAMATION")
  TASK:Sleep(TimeSec(0.1))
  CH("BURAKKII"):SetManpu("MP_NOTICE_R")
  CH("HERO"):SetManpu("MP_NOTICE_R")
  CH("NOKOTCHI"):SetManpu("MP_NOTICE_R")
  TASK:Sleep(TimeSec(0.1))
  CH("PARTNER"):SetManpu("MP_EXCLAMATION")
  CH("EEFI"):SetManpu("MP_NOTICE_R")
  CH("EEFI"):WaitManpu()
  TASK:Sleep(TimeSec(0.5))
  CAMERA:SetAzimuthDifferenceVolume(Volume(4.5))
  CAMERA:SetEye(SymCam("CAMERA_02"))
  CAMERA:SetTgt(SymCam("CAMERA_02"))
  CH("EEFI"):DirTo(RotateTarget(180), Speed(350), ROT_TYPE.NEAR)
  CH("EEFI"):WaitRotate()
  WINDOW:DrawFace(20, 88, SymAct("EEFI"), FACE_TYPE.THINK)
  WINDOW:Talk(SymAct("EEFI"), -1461207547)
  subEveCloseMsg()
  CH("BURAKKII"):DirTo(CH("EEFI"), Speed(350), ROT_TYPE.NEAR)
  CH("BURAKKII"):WaitRotate()
  CH("HERO"):DirTo(CH("EEFI"), Speed(350), ROT_TYPE.NEAR)
  CH("NOKOTCHI"):DirTo(CH("EEFI"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("PARTNER"):DirTo(CH("EEFI"), Speed(350), ROT_TYPE.NEAR)
  CH("BIRIJION"):DirTo(CH("EEFI"), Speed(350), ROT_TYPE.NEAR)
  SOUND:PlaySe(SymSnd("SE_EVT_SIGN_QUESTION_01"), Volume(256))
  CH("BURAKKII"):SetManpu("MP_QUESTION")
  CH("BURAKKII"):WaitManpu()
  WINDOW:DrawFace(272, 16, SymAct("BURAKKII"), FACE_TYPE.THINK)
  WINDOW:Talk(SymAct("BURAKKII"), -2083852858)
  WINDOW:Talk(SymAct("BURAKKII"), -1697522553)
  WINDOW:Talk(SymAct("BURAKKII"), -711964096)
  WINDOW:Talk(SymAct("BURAKKII"), -863274239)
  subEveCloseMsg()
  CAMERA:SetAzimuthDifferenceVolume(Volume(5))
  CAMERA:SetEye(SymCam("CAMERA_04"))
  CAMERA:SetTgt(SymCam("CAMERA_04"))
  SOUND:PlayBgm(SymSnd("BGM_EVE_THEME_DAIHYOUGA_02"), Volume(256))
  TASK:Sleep(TimeSec(0.3))
  WINDOW:DrawFace(324, 88, SymAct("BIRIJION"), FACE_TYPE.THINK)
  WINDOW:Talk(SymAct("BIRIJION"), -408540990)
  WINDOW:Talk(SymAct("BIRIJION"), -21161597)
  WINDOW:CloseMessage()
  CH("PARTNER"):DirTo(CH("BIRIJION"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("NOKOTCHI"):DirTo(CH("BIRIJION"), Speed(350), ROT_TYPE.NEAR)
  CH("BURAKKII"):DirTo(CH("BIRIJION"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("HERO"):DirTo(CH("BIRIJION"), Speed(350), ROT_TYPE.NEAR)
  CH("EEFI"):DirTo(CH("BIRIJION"), Speed(350), ROT_TYPE.NEAR)
  CH("EEFI"):WaitRotate()
  WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
  WINDOW:SwitchTalk({PARTNER_0 = 2032469324, PARTNER_1 = 1614689293})
  WINDOW:SwitchTalk({PARTNER_0 = -818813403, PARTNER_1 = -701835420})
  WINDOW:CloseMessage()
  subEveDoubleJump(CH("NOKOTCHI"))
  WINDOW:DrawFace(118, 8, SymAct("NOKOTCHI"), FACE_TYPE.NORMAL)
  WINDOW:Talk(SymAct("NOKOTCHI"), -49838937)
  WINDOW:CloseMessage()
  CH("NOKOTCHI"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
  CH("NOKOTCHI"):WaitRotate()
  CAMERA:SetAzimuthDifferenceVolume(Volume(2.5))
  CAMERA:SetEye(SymCam("CAMERA_03"))
  CAMERA:SetTgt(SymCam("CAMERA_03"))
  local taskLookAt01 = function()
    TASK:Sleep(TimeSec(0.4))
    CH("BIRIJION"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
    CH("EEFI"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
    TASK:Sleep(TimeSec(0.1))
    CH("BURAKKII"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
    CH("HERO"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
    TASK:Sleep(TimeSec(0.1))
    CH("PARTNER"):DirTo(SymPos("P_SUKIMA"), Speed(350), ROT_TYPE.NEAR)
    CH("PARTNER"):WaitRotate()
  end
  TASK:Regist(taskLookAt01)
  WINDOW:DrawFace(20, 88, SymAct("NOKOTCHI"), FACE_TYPE.NORMAL)
  WINDOW:Talk(SymAct("NOKOTCHI"), -467880474)
  WINDOW:CloseMessage()
  CAMERA:SetAzimuthDifferenceVolume(Volume(5))
  CAMERA:SetEye(SymCam("CAMERA_04"))
  CAMERA:SetTgt(SymCam("CAMERA_04"))
  TASK:Sleep(TimeSec(0.3))
  subEveNod(CH("BURAKKII"))
  WINDOW:DrawFace(72, 16, SymAct("BURAKKII"), FACE_TYPE.NORMAL)
  WINDOW:Talk(SymAct("BURAKKII"), -1419959519)
  subEveCloseMsg()
  WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
  WINDOW:SwitchTalk({PARTNER_0 = -1304030624, PARTNER_1 = -1721024093})
  WINDOW:SwitchTalk({PARTNER_0 = -2140114718, PARTNER_1 = 132672557})
  WINDOW:CloseMessage()
  CH("BURAKKII"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("HERO"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  TASK:Sleep(TimeSec(0.1))
  CH("BIRIJION"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  CH("NOKOTCHI"):DirTo(SymPos("POINT"), Speed(350), ROT_TYPE.NEAR)
  CH("NOKOTCHI"):WaitRotate()
  TASK:Sleep(TimeSec(0.3))
  TASK:Regist(subEveNod, {
    CH("BURAKKII")
  })
  TASK:Regist(subEveNod, {
    CH("EEFI")
  })
  TASK:Regist(subEveNod, {
    CH("BIRIJION")
  })
  TASK:Regist(subEveNod, {
    CH("HERO")
  })
  TASK:Regist(subEveNod, {
    CH("PARTNER")
  })
  TASK:Regist(subEveNod, {
    CH("NOKOTCHI")
  })
  TASK:Sleep(TimeSec(1))
  TASK:Regist(subEveMoveDir2, {
    CH("NOKOTCHI"),
    SymPos("P01_NOKOTCHI"),
    Speed(1.5),
    RotateTarget(135)
  })
  TASK:Sleep(TimeSec(0.1))
  TASK:Regist(subEveMoveDir2, {
    CH("BURAKKII"),
    SymPos("P01_BURAKKII"),
    Speed(1.5),
    RotateTarget(135)
  })
  TASK:Sleep(TimeSec(0.1))
  TASK:Regist(subEveMoveDir2, {
    CH("BIRIJION"),
    SymPos("P01_BIRIJION"),
    Speed(1.5),
    RotateTarget(135)
  })
  TASK:Regist(subEveMoveDir2, {
    CH("PARTNER"),
    SymPos("P01_PARTNER"),
    Speed(1.5),
    RotateTarget(135)
  })
  TASK:Sleep(TimeSec(0.1))
  TASK:Regist(subEveMoveDir2, {
    CH("HERO"),
    SymPos("P01_HERO"),
    Speed(1.5),
    RotateTarget(135)
  })
  TASK:Sleep(TimeSec(0.1))
  TASK:Regist(subEveMoveDir2, {
    CH("EEFI"),
    SymPos("P01_EEFI"),
    Speed(1.5),
    RotateTarget(135)
  })
  SOUND:FadeOutBgm(TimeSec(2.5))
  TASK:Sleep(TimeSec(0.5))
  SCREEN_A:FadeOut(TimeSec(1), true)
  SOUND:WaitBgm()
  TASK:Sleep(TimeSec(0.5))
  subSaveflagM11_110_01()
end
function main11_palacebosswin01_end()
end
function subSaveflagM11_110_01()
  FLAG.SceneFlag = CONST.FL_SC_01_FIRST
  FLAG.SCENARIOFLAG = CONST.M11_PALACEBOSSWIN_END
  SYSTEM:NextEntry()
end
function groundEnd()
end

